<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OceanRose</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Noto+Serif+SC:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#f7fbff;
      --bg2:#eaf6ff;
      --ink:#142233;
      --muted:#5b6b7d;

      --ocean:#3aa6ff;
      --ocean2:#1c78ff;
      --rose:#d11a4b;
      --poppy:#ffffff;

      --card: rgba(255,255,255,.72);
      --border: rgba(20,34,51,.10);
      --shadow: 0 18px 60px rgba(10,25,40,.12);

      --radius: 22px;
    }

    /* Theme: Candy&Cove (pink+green) */
    [data-theme="candy"]{
      --bg1:#fff7fb;
      --bg2:#f4fff9;
      --ocean:#ff5aa5;   /* pink */
      --ocean2:#28c07a;  /* green */
      --rose:#ff2d55;
      --ink:#1a1a1a;
      --muted:#4f5b5f;
      --card: rgba(255,255,255,.78);
      --border: rgba(0,0,0,.08);
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family:"Noto Serif SC", serif;
      color:var(--ink);
      background: radial-gradient(1200px 800px at 20% 10%, var(--bg2), transparent 55%),
                  radial-gradient(1200px 900px at 80% 20%, rgba(58,166,255,.12), transparent 60%),
                  linear-gradient(180deg, var(--bg1), #ffffff 45%, var(--bg2));
      overflow-x:hidden;
    }

    a{color:inherit;text-decoration:none}
    .container{width:min(1050px, 92vw); margin:0 auto;}

    /* Soft floating particles */
    .particles{
      position:fixed; inset:0; pointer-events:none; z-index:0;
      opacity:.55;
      background:
        radial-gradient(circle at 20% 10%, rgba(255,255,255,.9) 0 2px, transparent 3px),
        radial-gradient(circle at 70% 20%, rgba(255,255,255,.8) 0 2px, transparent 3px),
        radial-gradient(circle at 40% 70%, rgba(255,255,255,.75) 0 2px, transparent 3px),
        radial-gradient(circle at 90% 80%, rgba(255,255,255,.8) 0 2px, transparent 3px);
      filter: blur(.2px);
      animation: drift 16s ease-in-out infinite alternate;
    }
    @keyframes drift{
      from{transform:translateY(0)}
      to{transform:translateY(-18px)}
    }

    /* Navbar */
    .nav{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(12px);
      background: rgba(255,255,255,.55);
      border-bottom:1px solid var(--border);
    }
    .nav-inner{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
    }
    .brand{
      display:flex; gap:10px; align-items:baseline;
      font-family:"Playfair Display", serif;
    }
    .brand b{font-size:20px; letter-spacing:.6px}
    .brand span{font-size:12px; color:var(--muted)}
    .links{display:flex; gap:14px; flex-wrap:wrap; align-items:center; justify-content:flex-end}
    .chip{
      font-size:13px; color:var(--muted);
      padding:8px 12px; border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.55);
      transition:.2s ease;
    }
    .chip:hover{transform:translateY(-1px); box-shadow:0 12px 30px rgba(10,25,40,.10); color:var(--ink)}
    .tiny{padding:6px 10px; font-size:12px}

    /* Hero */
    .hero{position:relative; z-index:1; padding:56px 0 24px}
    .hero-card{
      border:1px solid var(--border);
      background: linear-gradient(135deg, rgba(255,255,255,.82), rgba(255,255,255,.55));
      border-radius: calc(var(--radius) + 10px);
      box-shadow: var(--shadow);
      padding:42px 34px;
      overflow:hidden;
      position:relative;
    }
    .hero-card:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(800px 240px at 30% 0%, rgba(58,166,255,.20), transparent 55%),
        radial-gradient(700px 220px at 80% 30%, rgba(209,26,75,.16), transparent 55%);
      z-index:0;
    }
    .hero-content{position:relative; z-index:1}
    .title{
      font-family:"Playfair Display", serif;
      font-size: clamp(34px, 5vw, 54px);
      line-height:1.05;
      margin:0 0 10px;
      letter-spacing:.6px;
    }
    .subtitle{
      margin:0;
      color:var(--muted);
      font-size:15px;
      line-height:1.9;
      max-width: 70ch;
    }

    /* Wave */
    .wave{
      margin-top:22px;
      height:44px;
      background: linear-gradient(90deg, rgba(58,166,255,.25), rgba(209,26,75,.20), rgba(58,166,255,.25));
      border-radius:999px;
      position:relative;
      overflow:hidden;
    }
    .wave:after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(circle at 20% 50%, rgba(255,255,255,.9) 0 10px, transparent 11px),
        radial-gradient(circle at 55% 50%, rgba(255,255,255,.7) 0 8px, transparent 9px),
        radial-gradient(circle at 85% 50%, rgba(255,255,255,.85) 0 12px, transparent 13px);
      opacity:.8;
      animation: waveMove 7s ease-in-out infinite alternate;
    }
    @keyframes waveMove{
      from{transform:translateX(-10%)}
      to{transform:translateX(10%)}
    }

    /* Sections */
    section{position:relative; z-index:1; padding:22px 0 18px}
    .sec{
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: 0 14px 46px rgba(10,25,40,.10);
      overflow:hidden;
    }
    .sec-head{
      padding:18px 20px;
      border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .sec-head h2{
      margin:0;
      font-family:"Playfair Display", serif;
      font-size:20px;
      letter-spacing:.4px;
    }
    .badge{
      font-size:12px; color:var(--muted);
      border:1px solid var(--border);
      background: rgba(255,255,255,.55);
      padding:6px 10px; border-radius:999px;
    }
    .sec-body{padding:18px 20px 22px}
    .cover{
      border-radius:18px;
      border:1px solid var(--border);
      overflow:hidden;
      height: 240px;
      background:
        radial-gradient(900px 320px at 25% 30%, rgba(58,166,255,.20), transparent 60%),
        radial-gradient(900px 320px at 70% 30%, rgba(209,26,75,.18), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.6), rgba(255,255,255,.25));
      display:flex; align-items:center; justify-content:center;
      position:relative;
    }
    .cover small{
      color:var(--muted);
      font-size:13px;
      text-align:center;
      padding:0 16px;
      line-height:1.7;
    }
    .cover:after{
      content:"";
      position:absolute; inset:0;
      background-image: radial-gradient(circle at 12% 20%, rgba(255,255,255,.85) 0 2px, transparent 3px);
      opacity:.55;
    }

    .prose{
      margin-top:16px;
      color:var(--ink);
      line-height:2.05;
      font-size:15px;
      white-space:pre-wrap;
    }
    .muted{color:var(--muted)}
    .divider{
      height:1px; background:var(--border); margin:16px 0;
    }

    .gallery{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
      margin-top:14px;
    }
    .ph{
      grid-column: span 4;
      border-radius:18px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.55);
      height: 160px;
      position:relative;
      overflow:hidden;
    }
    .ph:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(300px 160px at 20% 30%, rgba(58,166,255,.18), transparent 55%),
        radial-gradient(300px 160px at 80% 70%, rgba(209,26,75,.14), transparent 55%);
    }
    .ph span{
      position:absolute; inset:auto 14px 12px 14px;
      font-size:12px; color:var(--muted);
    }
    @media (max-width: 820px){
      .ph{grid-column: span 6}
      .cover{height:200px}
    }

    /* Floating controls */
    .controls{
      position:fixed; right:16px; bottom:16px;
      display:flex; flex-direction:column; gap:10px;
      z-index:99;
    }
    .btn{
      border:1px solid var(--border);
      background: rgba(255,255,255,.70);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding:10px 12px;
      font-size:13px;
      color:var(--ink);
      box-shadow: 0 16px 40px rgba(10,25,40,.12);
      cursor:pointer;
      transition:.18s ease;
    }
    .btn:hover{transform:translateY(-1px)}
    .btn small{display:block; color:var(--muted); font-size:11px; margin-top:2px}

    /* Modal */
    .modal{
      position:fixed; inset:0; z-index:120;
      display:none; place-items:center;
      background: rgba(10,18,28,.45);
      backdrop-filter: blur(8px);
      padding:18px;
    }
    .modal.open{display:grid}
    .modal-card{
      width:min(780px, 94vw);
      border-radius: 24px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.88);
      box-shadow: 0 30px 120px rgba(0,0,0,.25);
      overflow:hidden;
    }
    .modal-head{
      display:flex; justify-content:space-between; align-items:center;
      padding:14px 16px;
      border-bottom:1px solid rgba(0,0,0,.08);
    }
    .modal-head b{font-family:"Playfair Display", serif}
    .close{
      border:none; background:transparent; font-size:18px; cursor:pointer;
    }
    .modal-body{
      padding:16px;
      line-height:2.05;
      white-space:pre-wrap;
      font-size:15px;
    }

    /* Fireflies mode */
    .night{
      background: radial-gradient(900px 600px at 30% 20%, rgba(28,120,255,.20), transparent 60%),
                  radial-gradient(900px 600px at 80% 30%, rgba(209,26,75,.12), transparent 60%),
                  linear-gradient(180deg, #070b14, #0b1224 45%, #06101e);
      color:#f3f6ff;
    }
    .night .nav{background: rgba(8,12,22,.55); border-bottom:1px solid rgba(255,255,255,.08)}
    .night .chip, .night .btn, .night .badge{background: rgba(10,18,30,.55); border:1px solid rgba(255,255,255,.10); color:#f3f6ff}
    .night .sec{background: rgba(10,18,30,.52); border:1px solid rgba(255,255,255,.10)}
    .night .muted{color: rgba(243,246,255,.75)}
    .night .cover{background: radial-gradient(900px 320px at 25% 30%, rgba(58,166,255,.18), transparent 60%),
                           radial-gradient(900px 320px at 70% 30%, rgba(255,210,90,.12), transparent 60%),
                           linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));}
    .fireflies{
      position:fixed; inset:0; pointer-events:none; z-index:2;
      display:none;
    }
    .night .fireflies{display:block}
    .fly{
      position:absolute;
      width:6px; height:6px;
      border-radius:999px;
      background: rgba(255, 234, 160, .9);
      box-shadow: 0 0 18px rgba(255, 234, 160, .9);
      animation: floaty 10s ease-in-out infinite;
      opacity:.85;
    }
    @keyframes floaty{
      0%{transform:translate(0,0)}
      50%{transform:translate(40px,-60px)}
      100%{transform:translate(0,0)}
    }

    footer{
      padding:26px 0 44px;
      color:var(--muted);
      text-align:center;
      font-size:13px;
      position:relative; z-index:1;
    }
    /* ===== Theme system ===== */
:root{
  --bg1:#f7fbff;
  --bg2:#fff8fb;
  --accent:#2a6fdb;     /* blue */
  --accent2:#d63a3a;    /* red */
  --text:#0f172a;
  --card:rgba(255,255,255,.78);
  --border:rgba(15,23,42,.08);
}

/* çº¢è“ä¸»é¢˜ï¼šOceanRose */
body[data-theme="oceanrose"]{
  --accent:#2a6fdb;
  --accent2:#d63a3a;
}

/* ç²‰ç»¿ä¸»é¢˜ï¼šCandy */
body[data-theme="candygreen"]{
  --accent:#22c55e;    /* green */
  --accent2:#fb7185;   /* pink */
}

/* è®©ä¸»é¢˜é¢œè‰²å½±å“æŒ‰é’®/æ ‡ç­¾ç­‰ï¼ˆå¦‚æœä½ åŸæœ¬å·²å†™å°±ä¸ç”¨é‡å¤ï¼‰ */
a, .pill, .nav-btn.active{
  color: var(--accent);
}
.nav-btn.active{
  border-color: rgba(42,111,219,.25);
  background: rgba(42,111,219,.08);
}
body[data-theme="candygreen"] .nav-btn.active{
  border-color: rgba(34,197,94,.25);
  background: rgba(34,197,94,.10);
    }
  </style>
</head>

<body>
  <div class="particles"></div>
  <div class="fireflies" id="fireflies"></div>

  <!-- NAV -->
  <div class="nav">
    <div class="container nav-inner">
      <div class="brand">
        <b>OceanRose</b>
        <span>ğŸŒŠğŸŒ¹</span>
      </div>

      <div class="links">
        <a class="chip" href="#synopsis">æ•…äº‹æ¢—æ¦‚</a>
        <a class="chip" href="#step1">Step1 Â· 8å²</a>
        <a class="chip" href="#step2">Step2 Â· 13å²</a>
        <a class="chip" href="#step3">Step3 Â· 18å²</a>
        <a class="chip" href="#step4">Step4 Â· ç°åœ¨</a>
        <a class="chip tiny" href="javascript:void(0)" id="secretBtn">âœ¦</a>
      </div>
    </div>
  </div>

  <!-- HERO -->
  <header class="hero">
    <div class="container">
      <div class="hero-card">
        <div class="hero-content">
          <h1 class="title">OceanRose</h1>
          <p class="subtitle">
            æµ·æ´‹æ˜¯ä½ ä»¬å…±åŒçš„å½’å¤„ã€‚<br/>
            ç™½è‰²ç½‚ç²ŸèŠ±è®°å¾—ç››å¤çš„ç›¸é‡ï¼Œçº¢ç«ç‘°è§è¯é•¿ä¹…çš„å¿ƒæ„ã€‚<br/>
            <span class="muted">Cove Ã— Candy Â· A story written by time.</span>
          </p>
          <div class="wave" aria-hidden="true"></div>
        </div>
      </div>
    </div>
  </header>

  <!-- SECTION: Synopsis -->
  <section id="synopsis">
    <div class="container">
      <div class="sec">
        <div class="sec-head">
          <h2>æ•…äº‹æ¢—æ¦‚</h2>
          <span class="badge">Ocean Â· Poppy Â· Rose</span>
        </div>
        <div class="sec-body">
          <div class="cover">
            <small>
              è¿™é‡Œæ”¾ã€Œæ•…äº‹æ¢—æ¦‚ã€å°é¢å›¾<br/>
              ä¹‹åä½ ç»™æˆ‘å›¾ç‰‡ï¼Œæˆ‘ä¼šæ•™ä½ æ›¿æ¢ä¸ºçœŸå®å›¾ç‰‡ã€‚
            </small>
          </div>

          <div class="prose" id="synopsisText">
ç”·æ–¹æ˜¯Coveï¼Œå¥³æ–¹æ˜¯Candyã€‚

å…«å²çš„ç››å¤æ˜¯ä¸¤äººçš„ç¬¬ä¸€æ¬¡ç›¸é‡ã€‚é‚£å¹´ï¼ŒCoveç»å†äº†çˆ¶æ¯ç¦»å¼‚ï¼Œå’Œçˆ¶äº²ä¸€åŒæ¬åˆ°äº†åŠ å·ä¸€ä¸ªåè¿œé æµ·ã€åä¸ºSunset Birdçš„å°é•‡â€¦â€¦
ï¼ˆè¿™é‡Œæˆ‘å…ˆæ”¾ä¸€ä¸ªæ‘˜è¦ç‰ˆï¼Œä¹‹åæˆ‘ä»¬ä¼šæŠŠä½ æä¾›çš„å®Œæ•´æ–‡æœ¬æ‹†åˆ†æˆæ›´å¥½è¯»çš„æ®µè½æ’ç‰ˆï¼‰
          </div>

          <div class="divider"></div>

          <div class="gallery">
            <div class="ph"><span>æ¢—æ¦‚å°é¢ / æ’ç”» 01</span></div>
            <div class="ph"><span>æ¢—æ¦‚å°é¢ / æ’ç”» 02</span></div>
            <div class="ph"><span>å…±åŒå…ƒç´ ï¼šæµ·æ´‹</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION: Step1 -->
  <section id="step1">
    <div class="container">
      <div class="sec">
        <div class="sec-head">
          <h2>Step1 Â· 8å²</h2>
          <span class="badge">ç››å¤ Â· ç½‚ç²ŸèŠ±å±± Â· åˆé‡</span>
        </div>
        <div class="sec-body">
          <div class="cover">
            <small>è¿™é‡Œæ”¾ Step1 å°é¢å›¾ï¼ˆ8å²äººè®¾å›¾ï¼‰</small>
          </div>

          <div class="prose">
ä½ å°†ä¼šåœ¨è¿™é‡Œæ”¾ï¼š
- 8å² Cove äººè®¾å›¾
- 8å² Candy äººè®¾å›¾
- ç½‚ç²ŸèŠ±å±± / æµ·è¾¹åˆ›ä½œ
- åˆé‡çš„å…³é”®æƒ…èŠ‚
          </div>

          <div class="divider"></div>

          <div class="gallery">
            <div class="ph"><span>8å² Cove</span></div>
            <div class="ph"><span>8å² Candy</span></div>
            <div class="ph"><span>ç½‚ç²ŸèŠ±å±±</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION: Step2 -->
  <section id="step2">
    <div class="container">
      <div class="sec">
        <div class="sec-head">
          <h2>Step2 Â· 14å²</h2>
          <span class="badge">éšå½¢çš„å¢™ Â· æ‹¥æŠ± Â· çœ‹è§</span>
        </div>
        <div class="sec-body">
          <div class="cover">
            <small>è¿™é‡Œæ”¾ Step2 å°é¢å›¾ï¼ˆ14å²äººè®¾å›¾ï¼‰</small>
          </div>

          <div class="prose">
è¿™ä¸€ç« çš„é‡ç‚¹ä¼šå¾ˆæ¸©æŸ”ï¼š
- Candyçš„éšå½¢å¢™
- Coveæ•²çª—è€Œæ¥
- â€œæ²¡äº‹ï¼Œæˆ‘åœ¨ï¼Œä½ éƒ½å¯ä»¥å’Œæˆ‘è¯´ã€‚â€
          </div>

          <div class="divider"></div>

          <div class="gallery">
            <div class="ph"><span>14å² Cove</span></div>
            <div class="ph"><span>14å² Candy</span></div>
            <div class="ph"><span>çª—è¾¹çš„å¤œ</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION: Step3 -->
  <section id="step3">
    <div class="container">
      <div class="sec">
        <div class="sec-head">
          <h2>Step3 Â· 18å²</h2>
          <span class="badge">èˆä¼š Â· æ…ˆå–„æ™šä¼š Â· è¤ç«è™«</span>
        </div>
        <div class="sec-body">
          <div class="cover">
            <small>è¿™é‡Œæ”¾ Step3 å°é¢å›¾ï¼ˆ18å²äººè®¾å›¾ï¼‰</small>
          </div>

          <div class="prose">
è¿™é‡Œä¼šæœ‰â€œè¤ç«è™«æ¨¡å¼â€å½©è›‹å…¥å£ã€‚
å½“ä½ æŠŠè¿™ä¸€ç« å†™å®Œæ•´åï¼Œæˆ‘ä¼šæŠŠæœ€åçš„å‘Šç™½æ®µè½åšæˆæ›´ç”µå½±æ„Ÿçš„æ’ç‰ˆã€‚
          </div>

          <div class="divider"></div>

          <div class="gallery">
            <div class="ph"><span>18å² æ­£è£… Cove</span></div>
            <div class="ph"><span>18å² Candy ç¤¼æœ</span></div>
            <div class="ph"><span>è¤ç«è™«å¤œ</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION: Step4 -->
  <section id="step4">
    <div class="container">
      <div class="sec">
        <div class="sec-head">
          <h2>Step4 Â· ç°åœ¨</h2>
          <span class="badge">ä»ç„¶ç›¸çˆ± Â· ä»ç„¶æ˜¯å½¼æ­¤æœ€é‡è¦çš„äºº</span>
        </div>
        <div class="sec-body">
          <div class="cover">
            <small>è¿™é‡Œæ”¾ Step4 å°é¢å›¾ï¼ˆç°åœ¨ï¼‰</small>
          </div>

          <div class="prose">
ä½ å¯ä»¥å†™ï¼š
- å¼‚åœ°æ‹ç›¸èš
- æœªæ¥çš„æ„¿æœ›
- ä½ æƒ³å¯¹ä»–/å¥¹è¯´çš„è¯
          </div>

          <div class="divider"></div>

          <div class="gallery">
            <div class="ph"><span>ç°åœ¨ Â· åˆç…§/è±¡å¾å›¾ 01</span></div>
            <div class="ph"><span>ç°åœ¨ Â· åˆç…§/è±¡å¾å›¾ 02</span></div>
            <div class="ph"><span>æœªæ¥æ„¿æœ›</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="container">
    Made with ocean light, poppy white, and rose red. <br/>
    <span class="muted">OceanRose Â· Cove Ã— Candy</span>
  </footer>

  <!-- Controls -->
  <div class="controls">
    <button id="themeBtn" class="fab-btn">
  ğŸ¨ ä¸»é¢˜åˆ‡æ¢
  <span id="themeLabel">çº¢è“ / ç²‰ç»¿</span>
    </button>
    <button class="btn" id="musicBtn">
      ğŸµ éŸ³ä¹
      <small>ç‚¹å‡»æ’­æ”¾/æš‚åœ</small>
    </button>
    <button class="btn" id="fireflyBtn">
      ğŸª² Fireflies
      <small>è¤ç«è™«å¤œæ™šæ¨¡å¼</small>
    </button>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-card">
      <div class="modal-head">
        <b>Only Us âœ¦</b>
        <button class="close" id="closeModal">âœ•</button>
      </div>
      <div class="modal-body" id="modalBody">
è¿™æ˜¯ä¸€å°éšè—çš„ä¿¡ã€‚

ä½ å¯ä»¥æŠŠè¿™é‡Œå†™æˆï¼š
â€œå†™ç»™Coveçš„ä¿¡ / å†™ç»™Candyçš„ä¿¡â€
ä¹Ÿå¯ä»¥è®¾ç½®å¯†ç ï¼ˆæˆ‘å¯ä»¥å¸®ä½ åŠ ï¼‰ã€‚

ï¼ˆç­‰ä½ æŠŠæƒ³å†™çš„å†…å®¹ç»™æˆ‘ï¼Œæˆ‘ä¼šå¸®ä½ æ¶¦è‰²æˆå¾ˆæ¼‚äº®çš„ç‰ˆæœ¬ã€‚ï¼‰
      </div>
    </div>
  </div>

  <!-- Audio (you can replace later) -->
  <audio id="bgm" loop>
    <!-- ä½ å¯ä»¥ä¹‹åæ¢æˆä½ å–œæ¬¢çš„éŸ³ä¹æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šassets/bgm.mp3 -->
  </audio>

  <script>
    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const href = a.getAttribute('href');
        if(!href || href === '#') return;
        const el = document.querySelector(href);
        if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth', block:'start'}); }
      });
    });

    // Theme toggle
    const themeBtn = document.getElementById('themeBtn');
    themeBtn.addEventListener('click', ()=>{
      const root = document.documentElement;
      const now = root.getAttribute('data-theme');
      if(now === 'candy'){
        root.removeAttribute('data-theme');
      }else{
        root.setAttribute('data-theme','candy');
      }
    });

    // Secret modal
    const modal = document.getElementById('modal');
    const secretBtn = document.getElementById('secretBtn');
    const closeModal = document.getElementById('closeModal');
    secretBtn.addEventListener('click', ()=> modal.classList.add('open'));
    closeModal.addEventListener('click', ()=> modal.classList.remove('open'));
    modal.addEventListener('click', (e)=>{ if(e.target === modal) modal.classList.remove('open'); });

    // Music
    const bgm = document.getElementById('bgm');
    const musicBtn = document.getElementById('musicBtn');
    let playing = false;
    musicBtn.addEventListener('click', async ()=>{
      try{
        if(!playing){
          await bgm.play();
          playing = true;
          musicBtn.innerHTML = "â¸ï¸ éŸ³ä¹<small>æ­£åœ¨æ’­æ”¾</small>";
        }else{
          bgm.pause();
          playing = false;
          musicBtn.innerHTML = "ğŸµ éŸ³ä¹<small>ç‚¹å‡»æ’­æ”¾/æš‚åœ</small>";
        }
      }catch(err){
        alert("æµè§ˆå™¨é˜»æ­¢è‡ªåŠ¨æ’­æ”¾ï¼šè¯·å…ˆç‚¹å‡»ä¸€æ¬¡é¡µé¢åå†å°è¯•æ’­æ”¾éŸ³ä¹ã€‚");
      }
    });

    // Fireflies
    const fireflyBtn = document.getElementById('fireflyBtn');
    const fireflies = document.getElementById('fireflies');
    function spawnFireflies(n=18){
      fireflies.innerHTML = '';
      for(let i=0;i<n;i++){
        const d = document.createElement('div');
        d.className = 'fly';
        d.style.left = Math.random()*100 + 'vw';
        d.style.top = Math.random()*100 + 'vh';
        d.style.animationDuration = (7 + Math.random()*8) + 's';
        d.style.animationDelay = (-Math.random()*8) + 's';
        d.style.opacity = (0.5 + Math.random()*0.5);
        fireflies.appendChild(d);
      }
    }
    spawnFireflies();

    fireflyBtn.addEventListener('click', ()=>{
      document.body.classList.toggle('night');
      spawnFireflies();
    });

    // Put your full synopsis later
    // Tip: replace synopsisText inner content with your full story.
  </script>
</body>
        </html>
